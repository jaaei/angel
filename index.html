<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Will You Be My Valentine?</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
      body {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
        background-color: #ffdde1;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        overflow: hidden;
        position: relative;
      }

      /* --- FLOATING HEARTS STYLE --- */
      .heart-particle {
        position: absolute;
        color: #d63384;
        font-size: 20px;
        user-select: none;
        pointer-events: none;
        z-index: 0;
        bottom: -50px;
        animation: float 5s linear forwards;
        opacity: 0.7;
      }

      @keyframes float {
        0% {
          transform: translateY(0) rotate(0deg);
          opacity: 0.7;
        }
        100% {
          transform: translateY(-110vh) rotate(360deg);
          opacity: 0;
        }
      }

      .container {
        text-align: center;
        background: white;
        padding: 40px;
        border-radius: 20px;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        min-width: 350px;
        max-width: 600px;
        z-index: 10;
      }

      h1,
      h2 {
        color: #d63384;
        margin-bottom: 20px;
      }

      .gif-container img {
        width: 230px;
        border-radius: 10px;
        margin-bottom: 20px;
      }

      .buttons {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 20px;
        margin-top: 20px;
      }

      button {
        padding: 12px 25px;
        font-size: 1.2rem;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        transition: transform 0.1s ease;
      }

      #yesBtn,
      #nextBtn {
        background-color: #28a745;
        color: white;
        transition: all 0.3s ease;
      }

      #noBtn {
        background-color: #dc3545;
        color: white;
        position: relative;
        white-space: nowrap;
      }

      .hidden {
        display: none !important;
      }

      /* --- BOUQUET SECTION --- */
      .envelope-wrapper {
        position: relative;
        height: 350px;
        display: flex;
        justify-content: center;
        align-items: flex-end;
        cursor: pointer;
        margin: 10px auto;
        width: 100%;
      }

      .bouquet-img {
        width: 210px;
        position: absolute;
        top: 0;
        left: 50%;
        transform: translateX(-50%);
        z-index: 1;
        pointer-events: none;
      }

      .envelope-img {
        width: 160px;
        z-index: 2;
        position: relative;
        animation: pulse 1.5s infinite ease-in-out;
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.1);
        }
        100% {
          transform: scale(1);
        }
      }

      .letter-box {
        background: #fff9fa;
        border: 2px solid #ffb6c1;
        padding: 30px;
        border-radius: 15px;
        box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.05);
        line-height: 1.6;
        color: #444;
        text-align: left;
        margin-top: 20px;
        animation: slideUp 0.7s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      }

      .letter-box .gif-container {
        text-align: center;
      }

      @keyframes slideUp {
        from {
          opacity: 0;
          transform: translateY(100px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
  </head>
  <body>
    <div class="container" id="main-card">
      <div id="question-section">
        <div class="gif-container">
          <img
            id="mainGif"
            src="https://media.giphy.com/media/cQSjIBgUC2NbMKEm9q/giphy.gif"
            alt="Cute Bear"
          />
        </div>
        <h1>Will you be my Valentine? ðŸ’–</h1>
        <div class="buttons">
          <button id="yesBtn">Yes</button>
          <button id="noBtn">No</button>
        </div>
      </div>

      <div id="success-msg" class="hidden">
        <div class="gif-container">
          <img
            src="https://i.pinimg.com/originals/1b/34/85/1b3485bab8f021908244c6daea187de4.gif"
            alt="Happy Bears"
          />
        </div>
        <h2>YAAAYYYyy! ðŸ˜˜</h2>
        <button id="nextBtn">Next â†’</button>
      </div>

      <div id="letter-page" class="hidden">
        <h2 id="letter-instruction">You have a gift from RJ!</h2>
        <div id="envelope" class="envelope-wrapper">
          <img
            src="https://cdn.discordapp.com/attachments/1022293629244555274/1471739256794779744/image0.jpg?ex=6990077e&is=698eb5fe&hm=103781b7f0f5a20f0f3d87cb8e07f8a2a73f0a648d661266c237f94146acd6a1&"
            class="bouquet-img"
            alt="Bouquet"
          />
          <img
            src="https://png.pngtree.com/png-clipart/20240110/ourmid/pngtree-valentines-envelopes-png-image_11432129.png"
            class="envelope-img"
            alt="Envelope"
          />
        </div>

        <div id="letterText" class="letter-box hidden">
          <div class="gif-container">
            <img
              src="https://media1.tenor.com/m/r-sIqRnUnJoAAAAC/funny-jump.gif"
              alt="Letter Gif"
              style="width: 150px"
            />
          </div>

          <h3>My Princess Jhune,</h3>
          <p>
            Angelika Jhune Chritine Abad
            <br /><br />
            I am so lucky to have you in my life. Every day feels brighter with
            you around. Thank you for saying yes! I know you probably weren't
            expecting something like this, but I just wanted to show you how
            much you mean to me. HEHEHE
            <br /><br />
            Love always, <br />
            <strong>Arjay</strong>
          </p>
        </div>
      </div>
    </div>

    <script>
      const noBtn = document.getElementById("noBtn");
      const yesBtn = document.getElementById("yesBtn");
      const nextBtn = document.getElementById("nextBtn");
      const envelopeWrapper = document.getElementById("envelope");
      const questionSection = document.getElementById("question-section");
      const successMsg = document.getElementById("success-msg");
      const letterPage = document.getElementById("letter-page");
      const letterText = document.getElementById("letterText");
      const mainGif = document.getElementById("mainGif");
      const instruction = document.getElementById("letter-instruction");

      let yesSize = 1.2;
      let scaleFactor = 1;
      let hasChangedGif = false;
      let messageIndex = 0;

      const messages = [
        "Are you sure?",
        "Please try again...",
        "For matcha?ðŸµ ",
        "Think about it!",
        "JHUNEE! Pretty please? â¤ï¸",
      ];
      const reactionGifUrl =
        "https://assets.userstyles.org/assets_packs/type=style/user_id=3790291/screenshot_3ba4b24c-f9fd-4694-b9a6-ef2a2689dc14.gif";

      function createHeart() {
        const heart = document.createElement("div");
        heart.classList.add("heart-particle");
        heart.innerHTML = "â¤ï¸";
        heart.style.left = Math.random() * 100 + "vw";
        heart.style.animationDuration = Math.random() * 3 + 3 + "s";
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 6000);
      }
      setInterval(createHeart, 300);

      noBtn.addEventListener("mouseover", () => {
        if (!hasChangedGif) {
          mainGif.src = reactionGifUrl;
          hasChangedGif = true;
        }
        noBtn.innerText = messages[messageIndex];
        messageIndex = (messageIndex + 1) % messages.length;
        const x = Math.random() * (window.innerWidth - noBtn.offsetWidth);
        const y = Math.random() * (window.innerHeight - noBtn.offsetHeight);
        noBtn.style.position = "absolute";
        noBtn.style.left = `${x}px`;
        noBtn.style.top = `${y}px`;
        yesSize += 0.4;
        scaleFactor += 0.15;
        yesBtn.style.fontSize = `${yesSize}rem`;
        yesBtn.style.padding = `${12 * scaleFactor}px ${25 * scaleFactor}px`;
      });

      yesBtn.addEventListener("click", () => {
        confetti({
          particleCount: 150,
          spread: 70,
          origin: { y: 0.6 },
          colors: ["#ff0000", "#ff69b4", "#ffffff", "#ffb6c1"],
        });
        questionSection.classList.add("hidden");
        successMsg.classList.remove("hidden");
      });

      nextBtn.addEventListener("click", () => {
        successMsg.classList.add("hidden");
        letterPage.classList.remove("hidden");
      });

      envelopeWrapper.addEventListener("click", () => {
        envelopeWrapper.classList.add("hidden");
        instruction.innerText = "For You:";
        letterText.classList.remove("hidden");
      });
    </script>
  </body>
</html>
